<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>The Essential GNSS Project: gps.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul>
</div>
<h1>gps.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
GNSS core 'c' function library: GPS specific functions. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Glenn D. MacGougan (GDM) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2005-08-14 </dd></dl>
<dl class="since" compact><dt><b>Since:</b></dt><dd>2005-07-31</dd></dl>
<b>"LICENSE INFORMATION"</b> <br>
 Copyright (c) 2007, refer to 'author' doxygen tags <br>
 All rights reserved. <br>
<p>
Redistribution and use in source and binary forms, with or without modification, are permitted provided the following conditions are met: <br>
<p>
<ul>
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer. <br>
</li><li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution. <br>
</li><li>The name(s) of the contributor(s) may not be used to endorse or promote products derived from this software without specific prior written permission. <br>
</li></ul>
<p>
THIS SOFTWARE IS PROVIDED BY THE CONTRIBUTORS ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. 
<p>Definition in file <a class="el" href="gps_8h-source.html">gps.h</a>.</p>

<p>
<code>#include &quot;<a class="el" href="basictypes_8h-source.html">basictypes.h</a>&quot;</code><br>

<p>
<a href="gps_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_p_s__struct_ephemeris.html">GPS_structEphemeris</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A set of satellite orbit parameters that is used to calculate GPS satellite positions and velocities. In the ephemeris structure below, the parameters for computing satellite clock corrections are also included.  <a href="struct_g_p_s__struct_ephemeris.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_p_s__struct_almanac.html">GPS_structAlmanac</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A limited set of satellite orbit parameters that is used to calculate rough GPS satellite positions and velocities. The parameters for computing rough satellite clock corrections are also included.  <a href="struct_g_p_s__struct_almanac.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gps_8h.html#57b0cbe9663eea6dccb9378a3ca34cf4">GPS_ComputeSatelliteClockCorrectionAndDrift</a> (const unsigned short transmission_gpsweek, const double transmission_gpstow, const unsigned short ephem_week, const unsigned toe, const unsigned toc, const double af0, const double af1, const double af2, const double ecc, const double sqrta, const double delta_n, const double m0, const double tgd, const unsigned char mode, double *clock_correction, double *clock_drift)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gps_8h.html#b97f6e6d2a80e2c618a379a3bc5d44b9">GPS_ComputeSatellitePositionAndVelocity</a> (const unsigned short transmission_gpsweek, const double transmission_gpstow, const unsigned short ephem_week, const unsigned toe, const double m0, const double delta_n, const double ecc, const double sqrta, const double omega0, const double i0, const double w, const double omegadot, const double idot, const double cuc, const double cus, const double crc, const double crs, const double cic, const double cis, const double estimateOfTrueRange, const double estimteOfRangeRate, double *x, double *y, double *z, double *vx, double *vy, double *vz)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gps_8h.html#23d794c972e6494638064a086ab15e57">GPS_ComputeUserToSatelliteRange</a> (const double userX, const double userY, const double userZ, const double satX, const double satY, const double satZ, double *range)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gps_8h.html#05848c2666fb341705235d685114f6d7">GPS_ComputeUserToSatelliteRangeAndRangeRate</a> (const double userX, const double userY, const double userZ, const double userVx, const double userVy, const double userVz, const double satX, const double satY, const double satZ, const double satVx, const double satVy, const double satVz, double *range, double *range_rate)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gps_8h.html#9cf69fc69a700faa8bbe3debd1c48cbb">GPS_ComputeSatellitePositionVelocityAzimuthElevationDoppler_BasedOnAlmanacData</a> (const double userX, const double userY, const double userZ, const unsigned short gpsweek, const double gpstow, const double toa, const unsigned short almanac_week, const unsigned short prn, const double ecc, const double i0, const double omegadot, const double sqrta, const double omega0, const double w, const double m0, const double af0, const double af1, double *clock_correction, double *clock_drift, double *satX, double *satY, double *satZ, double *satVx, double *satVy, double *satVz, double *azimuth, double *elevation, double *doppler)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gps_8h.html#b3d43488be544277973e736d7d6f1dc0">GPS_ComputeSatellitePositionVelocityAzimuthElevationDoppler_BasedOnEphmerisData</a> (const double userX, const double userY, const double userZ, const unsigned short gpsweek, const double gpstow, const unsigned short ephem_week, const unsigned toe, const unsigned toc, const double af0, const double af1, const double af2, const double tgd, const double m0, const double delta_n, const double ecc, const double sqrta, const double omega0, const double i0, const double w, const double omegadot, const double idot, const double cuc, const double cus, const double crc, const double crs, const double cic, const double cis, double *clock_correction, double *clock_drift, double *satX, double *satY, double *satZ, double *satVx, double *satVy, double *satVz, double *azimuth, double *elevation, double *doppler)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gps_8h.html#686baad49b0e49a9df838b6264a71d8e">GPS_DecodeRawGPSEphemeris</a> (const unsigned char subframe1[30], const unsigned char subframe2[30], const unsigned char subframe3[30], unsigned short prn, unsigned *tow, unsigned short *iodc, unsigned char *iode, unsigned *toe, unsigned *toc, unsigned short *week, unsigned char *health, unsigned char *alert_flag, unsigned char *anti_spoof, unsigned char *code_on_L2, unsigned char *ura, unsigned char *L2_P_data_flag, unsigned char *fit_interval_flag, unsigned short *age_of_data_offset, double *tgd, double *af2, double *af1, double *af0, double *m0, double *delta_n, double *ecc, double *sqrta, double *omega0, double *i0, double *w, double *omegadot, double *idot, double *cuc, double *cus, double *crc, double *crs, double *cic, double *cis)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="57b0cbe9663eea6dccb9378a3ca34cf4"></a><!-- doxytag: member="gps.h::GPS_ComputeSatelliteClockCorrectionAndDrift" ref="57b0cbe9663eea6dccb9378a3ca34cf4" args="(const unsigned short transmission_gpsweek, const double transmission_gpstow, const unsigned short ephem_week, const unsigned toe, const unsigned toc, const double af0, const double af1, const double af2, const double ecc, const double sqrta, const double delta_n, const double m0, const double tgd, const unsigned char mode, double *clock_correction, double *clock_drift)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GPS_ComputeSatelliteClockCorrectionAndDrift           </td>
          <td>(</td>
          <td class="paramtype">const unsigned short&nbsp;</td>
          <td class="paramname"> <em>transmission_gpsweek</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>transmission_gpstow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned short&nbsp;</td>
          <td class="paramname"> <em>ephem_week</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned&nbsp;</td>
          <td class="paramname"> <em>toe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned&nbsp;</td>
          <td class="paramname"> <em>toc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>af0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>af1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>af2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>ecc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>sqrta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>delta_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>m0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>tgd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>clock_correction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>clock_drift</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the satellite clock and clock dirft corrections given the clock model and ephemeris information.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Glenn D. MacGougan (GDM) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2005-08-12 </dd></dl>
<dl class="since" compact><dt><b>Since:</b></dt><dd>2005-08-12</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>(1) The clock correction parameter is sensitive to the polynomial coefficient source which is either ephemeris related from subframe 1 or from the gps almanac (subframes 4,5). The ephemeris parameters have higher precision 22 &amp; 16 vs 11 &amp; 11 bits. <br>
 (2) User must compensate for the GPS week rollover <br>
</dd></dl>
<b>REFERENCES</b> <br>
 [1] ICD-GPS-200C, p. 88-101 <br>
 [2] Teunissen, P. J. G. &amp; A. Kleusberg (editors) (1998). GPS for Geodesy, 2nd Edition. pp. 43-107 [3] Hofmann-Wellenhof, B. &amp; J. Collins (1994). GPS Theory and Practice, 3rd Edition. <br>
 Springer-Verlag Wien New York, pp. 43-74 <br>
 [4] Wong, R.V.C &amp; K.P. Schwarz (1985). Dynamic Positioning with an Integrated GPS-INS. Formulae and Baseline Tests. University of Calgary. UCSE Report #30003. pp. 22 <br>
 <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>transmission_gpsweek</em>&nbsp;</td><td>
GPS week when signal was transmit (0-1024+) [weeks] </td></tr>
<tr><td valign="top"><em>transmission_gpstow</em>&nbsp;</td><td>
GPS time of week when signal was transmit [s] </td></tr>
<tr><td valign="top"><em>ephem_week</em>&nbsp;</td><td>
ephemeris: GPS week (0-1024+) [weeks] </td></tr>
<tr><td valign="top"><em>toe</em>&nbsp;</td><td>
ephemeris: time of week [s] </td></tr>
<tr><td valign="top"><em>toc</em>&nbsp;</td><td>
ephemeris: clock reference time of week [s] </td></tr>
<tr><td valign="top"><em>af0</em>&nbsp;</td><td>
ephemeris: polynomial clock correction coefficient [s], Note: parameters from ephemeris preferred vs almanac (22 vs 11 bits) </td></tr>
<tr><td valign="top"><em>af1</em>&nbsp;</td><td>
ephemeris: polynomial clock correction coefficient [s/s], Note: parameters from ephemeris preferred vs almanac (16 vs 11 bits) </td></tr>
<tr><td valign="top"><em>af2</em>&nbsp;</td><td>
ephemeris: polynomial clock correction coefficient [s/s^2] </td></tr>
<tr><td valign="top"><em>ecc</em>&nbsp;</td><td>
ephemeris: eccentricity of satellite orbit [] </td></tr>
<tr><td valign="top"><em>sqrta</em>&nbsp;</td><td>
ephemeris: square root of the semi-major axis of orbit [m^(1/2)] </td></tr>
<tr><td valign="top"><em>delta_n</em>&nbsp;</td><td>
ephemeris: mean motion difference from computed value [rad] </td></tr>
<tr><td valign="top"><em>m0</em>&nbsp;</td><td>
ephemeris: mean anomaly at reference time [rad] </td></tr>
<tr><td valign="top"><em>tgd</em>&nbsp;</td><td>
ephemeris: group delay differential between L1 and L2 [s] </td></tr>
<tr><td valign="top"><em>mode</em>&nbsp;</td><td>
0=L1 only, 1=L2 only (see p. 90, ICD-GPS-200C) </td></tr>
<tr><td valign="top"><em>clock_correction</em>&nbsp;</td><td>
satellite clock correction [m] </td></tr>
<tr><td valign="top"><em>clock_drift</em>&nbsp;</td><td>
satellite clock drift correction [m/s] </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="gps_8c-source.html#l00072">72</a> of file <a class="el" href="gps_8c-source.html">gps.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="b97f6e6d2a80e2c618a379a3bc5d44b9"></a><!-- doxytag: member="gps.h::GPS_ComputeSatellitePositionAndVelocity" ref="b97f6e6d2a80e2c618a379a3bc5d44b9" args="(const unsigned short transmission_gpsweek, const double transmission_gpstow, const unsigned short ephem_week, const unsigned toe, const double m0, const double delta_n, const double ecc, const double sqrta, const double omega0, const double i0, const double w, const double omegadot, const double idot, const double cuc, const double cus, const double crc, const double crs, const double cic, const double cis, const double estimateOfTrueRange, const double estimteOfRangeRate, double *x, double *y, double *z, double *vx, double *vy, double *vz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GPS_ComputeSatellitePositionAndVelocity           </td>
          <td>(</td>
          <td class="paramtype">const unsigned short&nbsp;</td>
          <td class="paramname"> <em>transmission_gpsweek</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>transmission_gpstow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned short&nbsp;</td>
          <td class="paramname"> <em>ephem_week</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned&nbsp;</td>
          <td class="paramname"> <em>toe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>m0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>delta_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>ecc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>sqrta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>omega0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>i0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>omegadot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>idot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>cuc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>cus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>crc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>crs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>cic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>cis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>estimateOfTrueRange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>estimteOfRangeRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>vx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>vy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>vz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the satellite position and velocity in WGS84 based on the supplied ephemeris/almanac parameters.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Glenn D. MacGougan (GDM) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2005-07-31 </dd></dl>
<dl class="since" compact><dt><b>Since:</b></dt><dd>2005-07-31</dd></dl>
<b>REFERENCES</b> <br>
 [1] ICD-GPS-200C, p. 94-101 <br>
 [2] Teunissen, P. J. G. &amp; A. Kleusberg (editors) (1998). GPS for Geodesy, 2nd Edition. pp. 43-107 <br>
 [3] Hofmann-Wellenhof, B. &amp; J. Collins (1994). GPS Theory and Practice, 3rd Edition. Springer-Verlag Wien New York, pp. 43-74 <br>
 [4] Wong, R.V.C &amp; K.P. Schwarz (1985). Dynamic Positioning with an Integrated GPS-INS. Formulae and Baseline Tests. University of Calgary. UCSE Report #30003. pp. 22 <br>
 <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>transmission_gpsweek</em>&nbsp;</td><td>
GPS week when signal was transmit (0-1024+) [weeks] </td></tr>
<tr><td valign="top"><em>transmission_gpstow</em>&nbsp;</td><td>
GPS time of week when signal was transmit [s] </td></tr>
<tr><td valign="top"><em>ephem_week</em>&nbsp;</td><td>
ephemeris: GPS week (0-1024+) [weeks] </td></tr>
<tr><td valign="top"><em>toe</em>&nbsp;</td><td>
ephemeris: time of week [s] </td></tr>
<tr><td valign="top"><em>m0</em>&nbsp;</td><td>
ephemeris: mean anomaly at reference time [rad] </td></tr>
<tr><td valign="top"><em>delta_n</em>&nbsp;</td><td>
ephemeris: mean motion difference from computed value [rad] </td></tr>
<tr><td valign="top"><em>ecc</em>&nbsp;</td><td>
ephemeris: eccentricity [] </td></tr>
<tr><td valign="top"><em>sqrta</em>&nbsp;</td><td>
ephemeris: square root of the semi-major axis [m^(1/2)] </td></tr>
<tr><td valign="top"><em>omega0</em>&nbsp;</td><td>
ephemeris: longitude of ascending node of orbit plane at weekly epoch [rad] </td></tr>
<tr><td valign="top"><em>i0</em>&nbsp;</td><td>
ephemeris: inclination angle at reference time [rad] </td></tr>
<tr><td valign="top"><em>w</em>&nbsp;</td><td>
ephemeris: argument of perigee [rad] </td></tr>
<tr><td valign="top"><em>omegadot</em>&nbsp;</td><td>
ephemeris: rate of right ascension [rad/s] </td></tr>
<tr><td valign="top"><em>idot</em>&nbsp;</td><td>
ephemeris: rate of inclination angle [rad/s] </td></tr>
<tr><td valign="top"><em>cuc</em>&nbsp;</td><td>
ephemeris: amplitude of the cosine harmonic correction term to the argument of latitude [rad] </td></tr>
<tr><td valign="top"><em>cus</em>&nbsp;</td><td>
ephemeris: amplitude of the sine harmonic correction term to the argument of latitude [rad] </td></tr>
<tr><td valign="top"><em>crc</em>&nbsp;</td><td>
ephemeris: amplitude of the cosine harmonic correction term to the orbit radius [m] </td></tr>
<tr><td valign="top"><em>crs</em>&nbsp;</td><td>
ephemeris: amplitude of the sine harmonic correction term to the orbit radius [m] </td></tr>
<tr><td valign="top"><em>cic</em>&nbsp;</td><td>
ephemeris: amplitude of the cosine harmonic correction term to the angle of inclination [rad] </td></tr>
<tr><td valign="top"><em>cis</em>&nbsp;</td><td>
ephemeris: amplitude of the sine harmonic correction term to the angle of inclination [rad] </td></tr>
<tr><td valign="top"><em>estimateOfTrueRange</em>&nbsp;</td><td>
best estimate of the signal propagation time (in m) for Sagnac effect compensation [m] </td></tr>
<tr><td valign="top"><em>estimteOfRangeRate</em>&nbsp;</td><td>
best estimate of the true signal Doppler (in m/s) for Sagnac effect compensation [m/s] </td></tr>
<tr><td valign="top"><em>x</em>&nbsp;</td><td>
satellite x [m] </td></tr>
<tr><td valign="top"><em>y</em>&nbsp;</td><td>
satellite y [m] </td></tr>
<tr><td valign="top"><em>z</em>&nbsp;</td><td>
satellite z [m] </td></tr>
<tr><td valign="top"><em>vx</em>&nbsp;</td><td>
satellite velocity x [m/s] </td></tr>
<tr><td valign="top"><em>vy</em>&nbsp;</td><td>
satellite velocity y [m/s] </td></tr>
<tr><td valign="top"><em>vz</em>&nbsp;</td><td>
satellite velocity z [m/s] </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="gps_8c-source.html#l00151">151</a> of file <a class="el" href="gps_8c-source.html">gps.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="9cf69fc69a700faa8bbe3debd1c48cbb"></a><!-- doxytag: member="gps.h::GPS_ComputeSatellitePositionVelocityAzimuthElevationDoppler_BasedOnAlmanacData" ref="9cf69fc69a700faa8bbe3debd1c48cbb" args="(const double userX, const double userY, const double userZ, const unsigned short gpsweek, const double gpstow, const double toa, const unsigned short almanac_week, const unsigned short prn, const double ecc, const double i0, const double omegadot, const double sqrta, const double omega0, const double w, const double m0, const double af0, const double af1, double *clock_correction, double *clock_drift, double *satX, double *satY, double *satZ, double *satVx, double *satVy, double *satVz, double *azimuth, double *elevation, double *doppler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GPS_ComputeSatellitePositionVelocityAzimuthElevationDoppler_BasedOnAlmanacData           </td>
          <td>(</td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned short&nbsp;</td>
          <td class="paramname"> <em>gpsweek</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>gpstow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>toa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned short&nbsp;</td>
          <td class="paramname"> <em>almanac_week</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned short&nbsp;</td>
          <td class="paramname"> <em>prn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>ecc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>i0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>omegadot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>sqrta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>omega0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>m0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>af0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>af1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>clock_correction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>clock_drift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satVx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satVy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satVz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>azimuth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>elevation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>doppler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the satellite position and velocity in WGS84 based on almanac data.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Glenn D. MacGougan (GDM) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2005-08-15 </dd></dl>
<dl class="since" compact><dt><b>Since:</b></dt><dd>2005-08-15</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>(1) Assumes L1 for the clock correction mode <br>
 (2) This calculation solves for the satellite position at the true GPS time of week specified. It includes compensation for the satellite clock correction and the Saganc effect, which is a function of the user position. <br>
</dd></dl>
<b>REFERENCES</b> <br>
 [1] ICD-GPS-200C <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>userX</em>&nbsp;</td><td>
user X position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>userY</em>&nbsp;</td><td>
user Y position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>userZ</em>&nbsp;</td><td>
user Z position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>gpsweek</em>&nbsp;</td><td>
user gps week (0-1024+) [week] </td></tr>
<tr><td valign="top"><em>gpstow</em>&nbsp;</td><td>
user time of week [s] </td></tr>
<tr><td valign="top"><em>toa</em>&nbsp;</td><td>
time of applicability [s] </td></tr>
<tr><td valign="top"><em>almanac_week</em>&nbsp;</td><td>
gps week of almanac (0-1024+) [week] </td></tr>
<tr><td valign="top"><em>prn</em>&nbsp;</td><td>
GPS prn number [] </td></tr>
<tr><td valign="top"><em>ecc</em>&nbsp;</td><td>
eccentricity [] </td></tr>
<tr><td valign="top"><em>i0</em>&nbsp;</td><td>
orbital inclination at reference time [rad] </td></tr>
<tr><td valign="top"><em>omegadot</em>&nbsp;</td><td>
rate of right ascension [rad/s] </td></tr>
<tr><td valign="top"><em>sqrta</em>&nbsp;</td><td>
square root of the semi-major axis [m^(1/2)] </td></tr>
<tr><td valign="top"><em>omega0</em>&nbsp;</td><td>
longitude of ascending node of orbit plane at weekly epoch [rad] </td></tr>
<tr><td valign="top"><em>w</em>&nbsp;</td><td>
argument of perigee [rad] </td></tr>
<tr><td valign="top"><em>m0</em>&nbsp;</td><td>
mean anomaly at reference time [rad] </td></tr>
<tr><td valign="top"><em>af0</em>&nbsp;</td><td>
polynomial clock correction coefficient (clock bias) [s], Note: parameters from ephemeris preferred vs almanac (22 vs 11 bits) </td></tr>
<tr><td valign="top"><em>af1</em>&nbsp;</td><td>
polynomial clock correction coefficient (clock drift) [s/s], Note: parameters from ephemeris preferred vs almanac (16 vs 11 bits) </td></tr>
<tr><td valign="top"><em>clock_correction</em>&nbsp;</td><td>
clock correction for this satellite for this epoch [m] </td></tr>
<tr><td valign="top"><em>clock_drift</em>&nbsp;</td><td>
clock drift correction for this satellite for this epoch [m/s] </td></tr>
<tr><td valign="top"><em>satX</em>&nbsp;</td><td>
satellite X position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satY</em>&nbsp;</td><td>
satellite Y position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satZ</em>&nbsp;</td><td>
satellite Z position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satVx</em>&nbsp;</td><td>
satellite X velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>satVy</em>&nbsp;</td><td>
satellite Y velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>satVz</em>&nbsp;</td><td>
satellite Z velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>azimuth</em>&nbsp;</td><td>
satelilte azimuth [rad] </td></tr>
<tr><td valign="top"><em>elevation</em>&nbsp;</td><td>
satelilte elevation [rad] </td></tr>
<tr><td valign="top"><em>doppler</em>&nbsp;</td><td>
satellite doppler with respect to the user position [m/s], Note: User must convert to Hz </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="gps_8c-source.html#l00390">390</a> of file <a class="el" href="gps_8c-source.html">gps.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="b3d43488be544277973e736d7d6f1dc0"></a><!-- doxytag: member="gps.h::GPS_ComputeSatellitePositionVelocityAzimuthElevationDoppler_BasedOnEphmerisData" ref="b3d43488be544277973e736d7d6f1dc0" args="(const double userX, const double userY, const double userZ, const unsigned short gpsweek, const double gpstow, const unsigned short ephem_week, const unsigned toe, const unsigned toc, const double af0, const double af1, const double af2, const double tgd, const double m0, const double delta_n, const double ecc, const double sqrta, const double omega0, const double i0, const double w, const double omegadot, const double idot, const double cuc, const double cus, const double crc, const double crs, const double cic, const double cis, double *clock_correction, double *clock_drift, double *satX, double *satY, double *satZ, double *satVx, double *satVy, double *satVz, double *azimuth, double *elevation, double *doppler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GPS_ComputeSatellitePositionVelocityAzimuthElevationDoppler_BasedOnEphmerisData           </td>
          <td>(</td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned short&nbsp;</td>
          <td class="paramname"> <em>gpsweek</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>gpstow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned short&nbsp;</td>
          <td class="paramname"> <em>ephem_week</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned&nbsp;</td>
          <td class="paramname"> <em>toe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned&nbsp;</td>
          <td class="paramname"> <em>toc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>af0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>af1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>af2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>tgd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>m0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>delta_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>ecc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>sqrta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>omega0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>i0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>omegadot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>idot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>cuc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>cus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>crc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>crs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>cic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>cis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>clock_correction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>clock_drift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satVx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satVy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>satVz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>azimuth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>elevation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>doppler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the satellite position and velocity in WGS84 based on ephemeris data.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Glenn D. MacGougan (GDM) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2005-08-15 </dd></dl>
<dl class="since" compact><dt><b>Since:</b></dt><dd>2005-08-15</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>(1) Assumes L1 for the clock correction mode <br>
 (2) This calculation solves for the satellite position at the true GPS time of week specified. It includes compensation for the satellite clock correction and the Saganc effect, which is a function of the user position. <br>
 (3) This function can be called with almanac data by inputting the almanac information and zero for the terms not available. toe and toc are the toa in that case. <br>
</dd></dl>
<b>REFERENCES</b> <br>
 [1] ICD-GPS-200C <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>userX</em>&nbsp;</td><td>
user X position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>userY</em>&nbsp;</td><td>
user Y position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>userZ</em>&nbsp;</td><td>
user Z position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>gpsweek</em>&nbsp;</td><td>
gps week of signal transmission (0-1024+) [week] </td></tr>
<tr><td valign="top"><em>gpstow</em>&nbsp;</td><td>
time of week of signal transmission (gpstow-psr/c) [s] </td></tr>
<tr><td valign="top"><em>ephem_week</em>&nbsp;</td><td>
ephemeris: GPS week (0-1024+) [weeks] </td></tr>
<tr><td valign="top"><em>toe</em>&nbsp;</td><td>
ephemeris: time of week [s] </td></tr>
<tr><td valign="top"><em>toc</em>&nbsp;</td><td>
ephemeris: clock reference time of week [s] </td></tr>
<tr><td valign="top"><em>af0</em>&nbsp;</td><td>
ephemeris: polynomial clock correction coefficient [s], Note: parameters from ephemeris preferred vs almanac (22 vs 11 bits) </td></tr>
<tr><td valign="top"><em>af1</em>&nbsp;</td><td>
ephemeris: polynomial clock correction coefficient [s/s], Note: parameters from ephemeris preferred vs almanac (16 vs 11 bits) </td></tr>
<tr><td valign="top"><em>af2</em>&nbsp;</td><td>
ephemeris: polynomial clock correction coefficient [s/s^2] </td></tr>
<tr><td valign="top"><em>tgd</em>&nbsp;</td><td>
ephemeris: group delay differential between L1 and L2 [s] </td></tr>
<tr><td valign="top"><em>m0</em>&nbsp;</td><td>
ephemeris: mean anomaly at reference time [rad] </td></tr>
<tr><td valign="top"><em>delta_n</em>&nbsp;</td><td>
ephemeris: mean motion difference from computed value [rad/s] </td></tr>
<tr><td valign="top"><em>ecc</em>&nbsp;</td><td>
ephemeris: eccentricity [] </td></tr>
<tr><td valign="top"><em>sqrta</em>&nbsp;</td><td>
ephemeris: square root of the semi-major axis [m^(1/2)] </td></tr>
<tr><td valign="top"><em>omega0</em>&nbsp;</td><td>
ephemeris: longitude of ascending node of orbit plane at weekly epoch [rad] </td></tr>
<tr><td valign="top"><em>i0</em>&nbsp;</td><td>
ephemeris: inclination angle at reference time [rad] </td></tr>
<tr><td valign="top"><em>w</em>&nbsp;</td><td>
ephemeris: argument of perigee [rad] </td></tr>
<tr><td valign="top"><em>omegadot</em>&nbsp;</td><td>
ephemeris: rate of right ascension [rad/s] </td></tr>
<tr><td valign="top"><em>idot</em>&nbsp;</td><td>
ephemeris: rate of inclination angle [rad/s] </td></tr>
<tr><td valign="top"><em>cuc</em>&nbsp;</td><td>
ephemeris: amplitude of the cosine harmonic correction term to the argument of latitude [rad] </td></tr>
<tr><td valign="top"><em>cus</em>&nbsp;</td><td>
ephemeris: amplitude of the sine harmonic correction term to the argument of latitude [rad] </td></tr>
<tr><td valign="top"><em>crc</em>&nbsp;</td><td>
ephemeris: amplitude of the cosine harmonic correction term to the orbit radius [m] </td></tr>
<tr><td valign="top"><em>crs</em>&nbsp;</td><td>
ephemeris: amplitude of the sine harmonic correction term to the orbit radius [m] </td></tr>
<tr><td valign="top"><em>cic</em>&nbsp;</td><td>
ephemeris: amplitude of the cosine harmonic correction term to the angle of inclination [rad] </td></tr>
<tr><td valign="top"><em>cis</em>&nbsp;</td><td>
ephemeris: amplitude of the sine harmonic correction term to the angle of inclination [rad] </td></tr>
<tr><td valign="top"><em>clock_correction</em>&nbsp;</td><td>
clock correction for this satellite for this epoch [m] </td></tr>
<tr><td valign="top"><em>clock_drift</em>&nbsp;</td><td>
clock drift correction for this satellite for this epoch [m/s] </td></tr>
<tr><td valign="top"><em>satX</em>&nbsp;</td><td>
satellite X position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satY</em>&nbsp;</td><td>
satellite Y position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satZ</em>&nbsp;</td><td>
satellite Z position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satVx</em>&nbsp;</td><td>
satellite X velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>satVy</em>&nbsp;</td><td>
satellite Y velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>satVz</em>&nbsp;</td><td>
satellite Z velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>azimuth</em>&nbsp;</td><td>
satelilte azimuth [rad] </td></tr>
<tr><td valign="top"><em>elevation</em>&nbsp;</td><td>
satelilte elevation [rad] </td></tr>
<tr><td valign="top"><em>doppler</em>&nbsp;</td><td>
satellite doppler with respect to the user position [m/s], Note: User must convert to Hz </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="gps_8c-source.html#l00549">549</a> of file <a class="el" href="gps_8c-source.html">gps.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="23d794c972e6494638064a086ab15e57"></a><!-- doxytag: member="gps.h::GPS_ComputeUserToSatelliteRange" ref="23d794c972e6494638064a086ab15e57" args="(const double userX, const double userY, const double userZ, const double satX, const double satY, const double satZ, double *range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GPS_ComputeUserToSatelliteRange           </td>
          <td>(</td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>satX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>satY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>satZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>range</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the user to satellite range given the user and satellite position.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Glenn D. MacGougan (GDM) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2006-11-23 </dd></dl>
<dl class="since" compact><dt><b>Since:</b></dt><dd>2006-11-23 </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>userX</em>&nbsp;</td><td>
user X position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>userY</em>&nbsp;</td><td>
user Y position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>userZ</em>&nbsp;</td><td>
user Z position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satX</em>&nbsp;</td><td>
satellite X position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satY</em>&nbsp;</td><td>
satellite Y positoin WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satZ</em>&nbsp;</td><td>
satellite Z position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>range</em>&nbsp;</td><td>
user to satellite range [m] </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="gps_8c-source.html#l00331">331</a> of file <a class="el" href="gps_8c-source.html">gps.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="05848c2666fb341705235d685114f6d7"></a><!-- doxytag: member="gps.h::GPS_ComputeUserToSatelliteRangeAndRangeRate" ref="05848c2666fb341705235d685114f6d7" args="(const double userX, const double userY, const double userZ, const double userVx, const double userVy, const double userVz, const double satX, const double satY, const double satZ, const double satVx, const double satVy, const double satVz, double *range, double *range_rate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GPS_ComputeUserToSatelliteRangeAndRangeRate           </td>
          <td>(</td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userVx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userVy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>userVz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>satX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>satY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>satZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>satVx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>satVy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>satVz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>range_rate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes the user to satellite range and range rate given the user and satellite position and velocities.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Glenn D. MacGougan (GDM) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2005-08-15 </dd></dl>
<dl class="since" compact><dt><b>Since:</b></dt><dd>2005-08-15 </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>userX</em>&nbsp;</td><td>
user X position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>userY</em>&nbsp;</td><td>
user Y position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>userZ</em>&nbsp;</td><td>
user Z position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>userVx</em>&nbsp;</td><td>
user X velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>userVy</em>&nbsp;</td><td>
user Y velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>userVz</em>&nbsp;</td><td>
user Z velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>satX</em>&nbsp;</td><td>
satellite X position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satY</em>&nbsp;</td><td>
satellite Y positoin WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satZ</em>&nbsp;</td><td>
satellite Z position WGS84 ECEF [m] </td></tr>
<tr><td valign="top"><em>satVx</em>&nbsp;</td><td>
satellite X velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>satVy</em>&nbsp;</td><td>
satellite Y velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>satVz</em>&nbsp;</td><td>
satellite Z velocity WGS84 ECEF [m/s] </td></tr>
<tr><td valign="top"><em>range</em>&nbsp;</td><td>
user to satellite range [m] </td></tr>
<tr><td valign="top"><em>range_rate</em>&nbsp;</td><td>
user to satellite range rate [m/s] </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="gps_8c-source.html#l00354">354</a> of file <a class="el" href="gps_8c-source.html">gps.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="686baad49b0e49a9df838b6264a71d8e"></a><!-- doxytag: member="gps.h::GPS_DecodeRawGPSEphemeris" ref="686baad49b0e49a9df838b6264a71d8e" args="(const unsigned char subframe1[30], const unsigned char subframe2[30], const unsigned char subframe3[30], unsigned short prn, unsigned *tow, unsigned short *iodc, unsigned char *iode, unsigned *toe, unsigned *toc, unsigned short *week, unsigned char *health, unsigned char *alert_flag, unsigned char *anti_spoof, unsigned char *code_on_L2, unsigned char *ura, unsigned char *L2_P_data_flag, unsigned char *fit_interval_flag, unsigned short *age_of_data_offset, double *tgd, double *af2, double *af1, double *af0, double *m0, double *delta_n, double *ecc, double *sqrta, double *omega0, double *i0, double *w, double *omegadot, double *idot, double *cuc, double *cus, double *crc, double *crs, double *cic, double *cis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL GPS_DecodeRawGPSEphemeris           </td>
          <td>(</td>
          <td class="paramtype">const unsigned char&nbsp;</td>
          <td class="paramname"> <em>subframe1</em>[30], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char&nbsp;</td>
          <td class="paramname"> <em>subframe2</em>[30], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char&nbsp;</td>
          <td class="paramname"> <em>subframe3</em>[30], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>prn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&nbsp;</td>
          <td class="paramname"> <em>tow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&nbsp;</td>
          <td class="paramname"> <em>iodc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>iode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&nbsp;</td>
          <td class="paramname"> <em>toe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&nbsp;</td>
          <td class="paramname"> <em>toc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&nbsp;</td>
          <td class="paramname"> <em>week</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>health</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>alert_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>anti_spoof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>code_on_L2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>ura</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>L2_P_data_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>fit_interval_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&nbsp;</td>
          <td class="paramname"> <em>age_of_data_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>tgd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>af2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>af1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>af0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>m0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>delta_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>ecc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>sqrta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>omega0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>i0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>omegadot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>idot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>cuc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>cus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>crc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>crs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>cic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>cis</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Decodes the raw gps ephemeris (note, with the parity bits removed).<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Glenn D. MacGougan (GDM) </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2005-08-15 </dd></dl>
<dl class="since" compact><dt><b>Since:</b></dt><dd>2005-08-15</dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE(1) if successful, FALSE(0) otherwise</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>(1) Parity bits must be removed from the input subframe data <br>
 (2) Returns TRUE(1) if data is successfully decoded <br>
 (3) Returns FALSE(0) if the subframe id's are incorrect, i.e. must be subframe1, subframe2, subframe3 in that order <br>
 (4) Returns FALSE(0) if the iode's are not consistent for all subframes, note 8 LSB bits of the iodc should equal subframe2 and subframe3 iode <br>
 (5) Uses IBM PC format byte alignment <br>
</dd></dl>
<b>REFERENCES</b> <br>
 [1] ICD-GPS-200C 
<p>
code_on_L2 <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>subframe1</em>&nbsp;</td><td>
subframe 1 data, 30 bytes * 8bits/byte = 240 bits, thus parity bits have been removed </td></tr>
<tr><td valign="top"><em>subframe2</em>&nbsp;</td><td>
subframe 2 data, 30 bytes * 8bits/byte = 240 bits, thus parity bits have been removed </td></tr>
<tr><td valign="top"><em>subframe3</em>&nbsp;</td><td>
subframe 3 data, 30 bytes * 8bits/byte = 240 bits, thus parity bits have been removed </td></tr>
<tr><td valign="top"><em>prn</em>&nbsp;</td><td>
GPS PRN number (helps with debugging) </td></tr>
<tr><td valign="top"><em>tow</em>&nbsp;</td><td>
time of week in subframe1, the time of the leading bit edge of subframe 2 [s] </td></tr>
<tr><td valign="top"><em>iodc</em>&nbsp;</td><td>
10 bit issue of data (clock), 8 LSB bits will match the iode [] </td></tr>
<tr><td valign="top"><em>iode</em>&nbsp;</td><td>
8 bit issue of data (ephemeris) [] </td></tr>
<tr><td valign="top"><em>toe</em>&nbsp;</td><td>
reference time ephemeris (0-604800) [s] </td></tr>
<tr><td valign="top"><em>toc</em>&nbsp;</td><td>
reference time (clock) (0-604800) [s] </td></tr>
<tr><td valign="top"><em>week</em>&nbsp;</td><td>
10 bit gps week 0-1023 (user must account for week rollover ) [week] </td></tr>
<tr><td valign="top"><em>health</em>&nbsp;</td><td>
6 bit health parameter, 0 if healthy, unhealth othersize [0=healthy] </td></tr>
<tr><td valign="top"><em>alert_flag</em>&nbsp;</td><td>
1 = URA may be worse than indicated [0,1] </td></tr>
<tr><td valign="top"><em>anti_spoof</em>&nbsp;</td><td>
anti-spoof flag from 0=off, 1=on [0,1] </td></tr>
<tr><td valign="top"><em>code_on_L2</em>&nbsp;</td><td>
0=reserved, 1=P code on L2, 2=C/A on L2 [0,1,2] </td></tr>
<tr><td valign="top"><em>ura</em>&nbsp;</td><td>
User Range Accuracy lookup code, 0 is excellent, 15 is use at own risk [0-15], see p. 83 GPSICD200C </td></tr>
<tr><td valign="top"><em>L2_P_data_flag</em>&nbsp;</td><td>
flag indicating if P is on L2 1=true [0,1] </td></tr>
<tr><td valign="top"><em>fit_interval_flag</em>&nbsp;</td><td>
fit interval flag (four hour interval or longer) 0=4 fours, 1=greater [0,1] </td></tr>
<tr><td valign="top"><em>age_of_data_offset</em>&nbsp;</td><td>
age of data offset [s] </td></tr>
<tr><td valign="top"><em>tgd</em>&nbsp;</td><td>
group delay [s] </td></tr>
<tr><td valign="top"><em>af2</em>&nbsp;</td><td>
polynomial clock correction coefficient (rate of clock drift) [s/s^2] </td></tr>
<tr><td valign="top"><em>af1</em>&nbsp;</td><td>
polynomial clock correction coefficient (clock drift) [s/s] </td></tr>
<tr><td valign="top"><em>af0</em>&nbsp;</td><td>
polynomial clock correction coefficient (clock bias) [s] </td></tr>
<tr><td valign="top"><em>m0</em>&nbsp;</td><td>
mean anomaly at reference time [rad] </td></tr>
<tr><td valign="top"><em>delta_n</em>&nbsp;</td><td>
mean motion difference from computed value [rad/s] </td></tr>
<tr><td valign="top"><em>ecc</em>&nbsp;</td><td>
eccentricity [] </td></tr>
<tr><td valign="top"><em>sqrta</em>&nbsp;</td><td>
square root of the semi-major axis [m^(1/2)] </td></tr>
<tr><td valign="top"><em>omega0</em>&nbsp;</td><td>
longitude of ascending node of orbit plane at weekly epoch [rad] </td></tr>
<tr><td valign="top"><em>i0</em>&nbsp;</td><td>
inclination angle at reference time [rad] </td></tr>
<tr><td valign="top"><em>w</em>&nbsp;</td><td>
argument of perigee [rad] </td></tr>
<tr><td valign="top"><em>omegadot</em>&nbsp;</td><td>
rate of right ascension [rad/s] </td></tr>
<tr><td valign="top"><em>idot</em>&nbsp;</td><td>
rate of inclination angle [rad/s] </td></tr>
<tr><td valign="top"><em>cuc</em>&nbsp;</td><td>
amplitude of the cosine harmonic correction term to the argument of latitude [rad] </td></tr>
<tr><td valign="top"><em>cus</em>&nbsp;</td><td>
amplitude of the sine harmonic correction term to the argument of latitude [rad] </td></tr>
<tr><td valign="top"><em>crc</em>&nbsp;</td><td>
amplitude of the cosine harmonic correction term to the orbit radius [m] </td></tr>
<tr><td valign="top"><em>crs</em>&nbsp;</td><td>
amplitude of the sine harmonic correction term to the orbit radius [m] </td></tr>
<tr><td valign="top"><em>cic</em>&nbsp;</td><td>
amplitude of the cosine harmonic correction term to the angle of inclination [rad] </td></tr>
<tr><td valign="top"><em>cis</em>&nbsp;</td><td>
amplitude of the sine harmonic correction term to the angle of inclination [rad] </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="gps_8c-source.html#l00714">714</a> of file <a class="el" href="gps_8c-source.html">gps.c</a>.</p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Nov 30 12:26:45 2007 for The Essential GNSS Project by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
